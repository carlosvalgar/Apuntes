drop table pedido;
drop table producto;
drop table vendedor;
drop table cliente;
drop table oficina;


create table vendedor
(
  Num_vendedor number(3) PRIMARY KEY,
  DNI VARCHAR(9) not null,
  Nombre varchar2(20),
  Cod_oficina number(5) not null,
  Contrato  date DEFAULT SYSDATE,
  Director number(3),
  Objetivo number(9,2) check (Objetivo >0) ,
  Ventas number(9,2) check (Ventas >0)
);

create table cliente
(
  Numclie number(5) PRIMARY KEY,
  DNI VARCHAR(9) not null,
  Nombre varchar2(20),
  Apellidos varchar2(80),
  Telef number(9),
  FechaNac date
);

create table producto
(
  Idprod number(4) primary key,
  Descripcion varchar2(20) not null,
  Precio number(7,2) check (Precio>0 or Precio is null) 
);

create table oficina
(
  Cod_oficina number(5) primary key ,
  Direccion varchar2(25),
  Ciudad Varchar2(15) not null,
  Region varchar2(10),
  Objetivo number(9,2),
  Ventas number(9,2)
);

CREATE TABLE PEDIDO
  (
    IDPEDIDO NUMBER(4,0),
    FECHAPED DATE DEFAULT SYSDATE,
    NUMCLIE      NUMBER(5,0) NOT NULL ENABLE,
    IDPROD       NUMBER(4,0) NOT NULL ENABLE,
    NUM_VENDEDOR NUMBER(3,0) NOT NULL ENABLE,
    CANTIDAD     NUMBER(3,0),
    CHECK (cantidad >0) ENABLE, 
    CONSTRAINT PEDIDO_PK PRIMARY KEY (IDPEDIDO, FECHAPED),
    CONSTRAINT PEDIDO_CLIENTE_FK FOREIGN KEY (NUMCLIE) REFERENCES CLIENTE (NUMCLIE),
    CONSTRAINT PEDIDO_PRODUCTO_FK FOREIGN KEY (IDPROD) REFERENCES PRODUCTO (IDPROD),
    CONSTRAINT PEDIDO_VENDEDOR_FK FOREIGN KEY (NUM_VENDEDOR) REFERENCES VENDEDOR (NUM_VENDEDOR)
  )
  ;

COMMIT;



  INSERT INTO oficina VALUES (1,'CALLE INVENTADA 1','CORNELLA','BARCELONA',300000,2000);
  INSERT INTO oficina VALUES (2,'CALLE INVENTADA 2','ESPLUGUES','BARCELONA',2000,10000);
  INSERT INTO oficina VALUES (3,'CALLE INVENTADA 3','HOSPITALET','BARCELONA',1900,100);
  INSERT INTO oficina VALUES (4,'CALLE INVENTADA 4','MOSTOLES','MADRID',40000,33200);
  INSERT INTO oficina VALUES (5,'CALLE INVENTADA 5','MANISES','VALENCIA',20000,40000);
  

INSERT INTO VENDEDOR VALUES (1,'25574711E','Josep',1,SYSDATE,NULL,'150,00','200,00');
INSERT INTO VENDEDOR VALUES (2,'40522997X','Rafa',1,SYSDATE,NULL,'1000,00','2000,00');
INSERT INTO VENDEDOR VALUES (3,'66586241E','Ramon',1,SYSDATE,NULL,'2000,00','250,00');
INSERT INTO VENDEDOR VALUES (4,'38866412T','Leandro',1,SYSDATE,NULL,'300,00','500,00');
INSERT INTO VENDEDOR VALUES (5,'50969999K','Belen',1,SYSDATE,NULL,'23000,00','12000,00');
INSERT INTO VENDEDOR VALUES (6,'16144439A','Toni',1,SYSDATE,NULL,'12000,00','17000,00');
INSERT INTO VENDEDOR VALUES (7,'29993243R','Xavi',1,SYSDATE,NULL,'5000,00','7000,00');
INSERT INTO VENDEDOR VALUES (8,'63211626J','Jennifer',1,SYSDATE,NULL,'4000,00','2250,00');
INSERT INTO VENDEDOR VALUES (9,'58465832Q','Marina',1,SYSDATE,NULL,'2848,00','4767,00');
INSERT INTO VENDEDOR VALUES (10,'50557357E','Florencia',1,SYSDATE,NULL,'68372,00','4857,00');
INSERT INTO VENDEDOR VALUES (11,'81179682D','Cristina',1,SYSDATE,NULL,'5738,00','1938,00');
INSERT INTO VENDEDOR VALUES (12,'74664573H','Sandra',1,SYSDATE,NULL,'5736,00','2000,00');
INSERT INTO VENDEDOR VALUES (13,'43842562P','Paula',1,SYSDATE,NULL,'3877,00','294,00');
INSERT INTO VENDEDOR VALUES (14,'63176318X','Hector',1,SYSDATE,NULL,'38486,00','18477,00');
INSERT INTO VENDEDOR VALUES (15,'91453760X','Jorge',1,SYSDATE,NULL,'1000,00','2000,00');
INSERT INTO VENDEDOR VALUES (16,'83670803T','Ivan',1,SYSDATE,NULL,'2757,00','3768,00');
INSERT INTO VENDEDOR VALUES (17,'87683715X','Yeray',1,SYSDATE,NULL,'1000,00','2000,00');
INSERT INTO VENDEDOR VALUES (18,'89223373W','Josepe',1,SYSDATE,NULL,'8284,00','2948,00');
INSERT INTO VENDEDOR VALUES (19,'23371752A','Guillem',1,SYSDATE,NULL,'1000,00','2000,00');
INSERT INTO VENDEDOR VALUES (20,'84075685J','Pau',1,SYSDATE,NULL,'4857,00','9247,00');
INSERT INTO VENDEDOR VALUES (21,'39923084Y','David',1,SYSDATE,NULL,'3757,00','284,00');
INSERT INTO VENDEDOR VALUES (22,'37525788T','Marc',1,SYSDATE,NULL,'284,00','1837,00');
INSERT INTO VENDEDOR VALUES (23,'09105238K','Estefania',1,SYSDATE,NULL,'3847,00','2846,00');
INSERT INTO VENDEDOR VALUES (24,'29214416T','Gloria',1,SYSDATE,NULL,'2847,00','947,00');
INSERT INTO VENDEDOR VALUES (25,'92939733E','Marta',1,SYSDATE,NULL,'2857,00','245,00');
INSERT INTO VENDEDOR VALUES (26,'44293221M','Rocio',1,SYSDATE,NULL,'5695,00','743,00');
INSERT INTO VENDEDOR VALUES (27,'32485899D','Lucia',1,SYSDATE,NULL,'2457,00','6436,00');
INSERT INTO VENDEDOR VALUES (28,'65041476Y','Miguel',1,SYSDATE,NULL,'1234,00','4321,00');
INSERT INTO VENDEDOR VALUES (29,'69026912W','Clara',1,SYSDATE,NULL,'2345,00','123,00');
INSERT INTO VENDEDOR VALUES (30,'63241177D','Jesus',1,SYSDATE,NULL,'2345,00','2134,00');
INSERT INTO VENDEDOR VALUES (31,'70781196F','Juan',1,SYSDATE,NULL,'8357,00','7854,00');

INSERT INTO cliente VALUES (1,'25574711E','Josep-Cliente',null,null,'10/11/1999');
INSERT INTO cliente VALUES (2,'40522997X','Rafa-Cliente',null,null,'10/12/1999');
INSERT INTO cliente VALUES (3,'66586241E','Ramon-Cliente',null,null,'10/10/1999');
INSERT INTO cliente VALUES (4,'38866412T','Leandro-Cliente',null,null,'10/09/1999');
INSERT INTO cliente VALUES (5,'50969999K','Belen-Cliente',null,null,'10/02/1999');
INSERT INTO cliente VALUES (6,'16144439A','Toni-Cliente',null,null,'10/03/1999');
INSERT INTO cliente VALUES (7,'29993243R','Xavi-Cliente',null,null,'10/04/1999');
INSERT INTO cliente VALUES (8,'63211626J','Jennifer-Cliente',null,null,'10/10/1998');
INSERT INTO cliente VALUES (9,'58465832Q','Marina-Cliente',null,null,'10/11/1998');
INSERT INTO cliente VALUES (10,'50557357E','Florencia-Cliente',null,null,'10/01/1998');
INSERT INTO cliente VALUES (11,'81179682D','Cristina-Cliente',null,null,'10/02/1989');
INSERT INTO cliente VALUES (12,'74664573H','Sandra-Cliente',null,null,'10/03/1989');
INSERT INTO cliente VALUES (13,'43842562P','Paula-Cliente',null,null,'10/04/1989');
INSERT INTO cliente VALUES (14,'63176318X','Hector-Cliente',null,null,'10/11/1979');
INSERT INTO cliente VALUES (15,'91453760X','Jorge-Cliente',null,null,'10/10/1979');
INSERT INTO cliente VALUES (16,'83670803T','Ivan-Cliente',null,null,'10/12/1967');
INSERT INTO cliente VALUES (17,'87683715X','Yeray-Cliente',null,null,'10/08/1968');
INSERT INTO cliente VALUES (18,'89223373W','Josephh-Cliente',null,null,'10/10/1997');
INSERT INTO cliente VALUES (19,'23371752A','Guillem-Cliente',null,null,'10/02/1993');
INSERT INTO cliente VALUES (20,'84075685J','Pau-Cliente',null,null,'10/10/1993');
INSERT INTO cliente VALUES (21,'39923084Y','David-Cliente',null,null,'10/10/1987');
INSERT INTO cliente VALUES (22,'37525788T','Marc-Cliente',null,null,'10/02/1987');
INSERT INTO cliente VALUES (23,'09105238K','Estefania-Cliente',null,null,'10/03/1987');
INSERT INTO cliente VALUES (24,'29214416T','Gloria-Cliente',null,null,'10/10/1988');
INSERT INTO cliente VALUES (25,'92939733E','Marta-Cliente',null,null,'10/11/1977');
INSERT INTO cliente VALUES (26,'44293221M','Rocio-Cliente',null,null,'10/12/1977');
INSERT INTO cliente VALUES (27,'32485899D','Lucia-Cliente',null,null,'10/10/1977');
INSERT INTO cliente VALUES (28,'65041476Y','Miguel-Cliente',null,null,'10/10/1977');
INSERT INTO cliente VALUES (29,'69026912W','Clara-Cliente',null,null,'10/02/1966');
INSERT INTO cliente VALUES (30,'63241177D','Jesus-Cliente',null,null,'10/03/1966');
INSERT INTO cliente VALUES (31,'70781196F','Juan-Cliente',null,null,'10/10/1984');
COMMIT;